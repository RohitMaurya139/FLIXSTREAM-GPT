import{u as y,a as o,j as e}from"./react-vendor-INFFXlDm.js";import{H as j,a as h}from"./Header-bwbNjLsg.js";import{B as N}from"./Constants-dkabCPa7.js";import{s as v,d as A,u as S,e as z}from"./vendor-BitOsjU2.js";import{a as b}from"./index-p4YeIyTK.js";import"./redux-vendor-BqvGm3ij.js";const Z=(i,r)=>{const u=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i),c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(r);return u?c?null:"❗❗ Password is not Valid. It must contain A-Z, a-z, 0-9 and a special character (@, $, etc.)":"❗❗ Email Address is not Valid. It must contain @ and proper format"},I=(i,r,u,c)=>{const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i),x=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(r),a=/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/.test(u),n=/^\d{4}-\d{2}-\d{2}$/.test(c);return t?a?n?x?null:"❗❗ Password is not Valid. It must contain A-Z, a-z, 0-9 and a special character (@, $, etc.)":"❗❗ DOB is not Valid. Must be in YYYY-MM-DD format.":"❗❗ Name is not Valid. Only letters and certain punctuation are allowed.":"❗❗ Email Address is not Valid. It must contain @ and proper format"},V=()=>{const i=y(),[r,u]=o.useState(!0),[c,t]=o.useState(null),[x,a]=o.useState(null),n=o.useRef(null),d=o.useRef(null),p=o.useRef(null),f=o.useRef(null);function g(){u(!r),t(null),a(null)}const w=async()=>{let l;if(r){if(l=Z(n.current.value,d.current.value),!l)try{const s=(await v(h,n.current.value,d.current.value)).user;i(b({uid:s.uid,email:s.email,displayName:s.displayName||""})),a("✅ Successfully signed in!"),t(null)}catch(m){t(m.message),a(null);return}}else if(l=I(n.current.value,d.current.value,p.current.value,f.current.value),!l)try{const s=(await A(h,n.current.value,d.current.value)).user;await S(s,{displayName:p.current.value}),await z(s),i(b({uid:s.uid,email:s.email,displayName:s.displayName})),a("🎉 Account created successfully!"),t(null)}catch(m){t(m.message),a(null);return}t(l),l&&a(null)};return e.jsxs("div",{className:"relative min-h-screen w-full flex flex-col",children:[e.jsx(j,{}),e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("img",{src:N,alt:"Background",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-60"})]}),e.jsxs("main",{className:"relative z-10 flex-grow flex flex-col items-center px-4 py-10 max-w-4xl mx-auto w-full overflow-y-auto mt-16 sm:mt-24 md:mt-20 lg:mt-16",children:[e.jsxs("div",{className:"max-w-xl text-center mb-10 px-2 sm:px-0",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-white leading-tight mb-4",children:"Unlimited movies, TV shows and more"}),e.jsx("p",{className:"text-white font-semibold text-base sm:text-lg",children:"Starts at ₹149. Cancel at any time."})]}),e.jsxs("form",{onSubmit:l=>l.preventDefault(),className:"p-8 rounded-lg max-w-md w-full shadow-lg text-white",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:r?"Sign In":"Sign Up"}),!r&&e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:p,type:"text",placeholder:"Enter Full Name",className:"w-full p-3 mb-4 rounded border border-gray-600 bg-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0}),e.jsxs("select",{className:"w-full p-3 mb-4 rounded border border-gray-600 bg-gray-900 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0,defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("input",{ref:f,type:"date",placeholder:"Enter Date of Birth",className:"w-full p-3 mb-4 rounded border border-gray-600 bg-gray-900 placeholder-gray-400 text-white focus:outline-none focus:ring-2 focus:ring-red-600",required:!0})]}),e.jsx("input",{ref:n,type:"email",placeholder:"Enter Email Address",className:"w-full p-3 mb-4 rounded border border-gray-600 bg-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0}),e.jsx("input",{ref:d,type:"password",placeholder:"Enter Password",className:"w-full p-3 mb-6 rounded border border-gray-600 bg-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0}),c&&e.jsx("p",{className:"text-red-600 font-semibold mb-4",children:c}),x&&e.jsx("p",{className:"text-green-600 font-semibold mb-4",children:x}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-red-600 font-bold rounded hover:bg-red-700 transition cursor-pointer mb-4",onClick:w,children:r?"Sign In":"Sign Up"}),e.jsxs("div",{className:"flex items-center mb-6 space-x-2",children:[e.jsx("input",{type:"checkbox",name:"remember",id:"remember",className:"accent-white"}),e.jsx("label",{htmlFor:"remember",className:"text-white font-semibold cursor-pointer",children:"Remember me"})]}),r?e.jsxs("p",{className:"text-gray-400 font-semibold mb-2",children:["New to FlixStream?"," ",e.jsx("span",{className:"text-white cursor-pointer font-semibold underline",onClick:g,children:"Sign up now."})]}):e.jsxs("p",{className:"text-gray-400 font-semibold mb-2",children:["Already a User?"," ",e.jsx("span",{className:"text-white cursor-pointer font-semibold underline",onClick:g,children:"Sign In now."})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"This page is protected by Google reCAPTCHA to ensure you're not a bot."})]})]})]})};export{V as default};
